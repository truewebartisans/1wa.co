<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on True web artisans</title>
        <link>https://truewebartisans.com/posts/</link>
        <description>Recent content in Posts on True web artisans</description>
        <generator>Hugo -- gohugo.io</generator>
        <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc-nd/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CC BY-NC-ND 4.0&lt;/a&gt;</copyright>
        <lastBuildDate>Sun, 24 Nov 2019 10:10:00 +0300</lastBuildDate>
        <atom:link href="https://truewebartisans.com/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>The V programming language</title>
            <link>https://truewebartisans.com/posts/2019/11/good-to-know-v-lang/</link>
            <pubDate>Sun, 24 Nov 2019 10:10:00 +0300</pubDate>
            
            <guid>https://truewebartisans.com/posts/2019/11/good-to-know-v-lang/</guid>
            <description>Introduction Hello! I&amp;rsquo;m starting “Good to know” series. And now, I so excited to show you very yong, but simple, fast, safe &amp;amp; compiled programming language called V (or vlang for Google Search bots).
Objectives of the article  Story of V; Hello World; Main features of language; How to install and update;  What&amp;rsquo;s &amp;ldquo;V&amp;rdquo; mean? No, Alexander Medvednikov (author of V programming language) do not fan of &amp;ldquo;V for Vendetta&amp;rdquo; movie.</description>
            <content type="html"><![CDATA[

<h2 id="introduction">Introduction</h2>

<p>Hello! I&rsquo;m starting “Good to know” series. And now, I so excited to show you very yong, but simple, fast, safe &amp; compiled programming language called <strong>V</strong> (or <strong>vlang</strong> for Google Search bots).</p>

<h3 id="objectives-of-the-article">Objectives of the article</h3>

<ol>
<li>Story of V;</li>
<li>Hello World;</li>
<li>Main features of language;</li>
<li>How to install and update;</li>
</ol>

<h2 id="what-s-v-mean">What&rsquo;s &ldquo;V&rdquo; mean?</h2>

<p>No, <a href="https://github.com/medvednikov" target="_blank">Alexander Medvednikov</a> (author of V programming language) do not fan of &ldquo;V for Vendetta&rdquo; movie. But it&rsquo;s very interesting story:</p>

<blockquote>
<p>Initially the language had the same name as the product it was created for: Volt. The extension was &ldquo;.v&rdquo;, I didn&rsquo;t want to mess up git history, so I decided to name it V :)</p>

<p>It&rsquo;s a simple name that reflects the simplicity of the language, and it&rsquo;s easy to pronounce for everyone in the world.</p>

<p>— Alexander Medvednikov</p>
</blockquote>

<h2 id="the-v-s-hello-world">The V&rsquo;s &ldquo;Hello World&rdquo;!</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// hello_world.v
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">fn</span> <span style="color:#a6e22e">main</span>() {
  <span style="color:#a6e22e">w</span> <span style="color:#f92672">:=</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">World</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
  println(<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">Hello</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">w</span>!<span style="color:#960050;background-color:#1e0010">&#39;</span>)
}</code></pre></div>
<p>Clear and simple, uh? What if I tell you that this code can be written in even shorter form? If your program is only single file (all code in one file), V allows you to drop <code>fn main() {...}</code>. Like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// hello_world.v
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">w</span> <span style="color:#f92672">:=</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">World</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
println(<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">Hello</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">w</span>!<span style="color:#960050;background-color:#1e0010">&#39;</span>)</code></pre></div>
<p>Yes, this is a valid V code too!</p>

<h2 id="main-features">Main features</h2>

<h3 id="v-is-written-in-v">V is written in V</h3>

<p>The entire language and its standard library are less than 1 MB and can be built in less than 0.6 seconds.</p>

<p>V compiles between ≈100k and 1.2 million lines of code per second per CPU core (without hardware optimization).</p>

<h3 id="as-fast-as-c">As fast as C</h3>

<p>Minimal amount of allocations, plus built-in serialization without runtime reflection. Compiles to native binaries without any dependencies.</p>

<h3 id="safety">Safety</h3>

<ul>
<li>No: null, global variables, variable shadowing and undefined values + behavior;</li>
<li>Yes: bounds checking, option/result types, generics;</li>
<li>By default: immutable variables + structs, pure functions;</li>
</ul>

<h3 id="similar-to-another-languages">Similar to another languages</h3>

<p>If you work with C, Go, Rust or JavaScript, you&rsquo;re ready to write code on V! Don&rsquo;t trust me, read program code near and answer &ldquo;what each line do?&rdquo;:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">import</span> <span style="color:#a6e22e">time</span>
<span style="color:#f92672">import</span> <span style="color:#a6e22e">http</span>

<span style="color:#a6e22e">fn</span> <span style="color:#a6e22e">main</span>() {
  <span style="color:#a6e22e">resp</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">https</span>:<span style="color:#75715e">//vlang.io/utc_now&#39;) or {
</span><span style="color:#75715e"></span>    println(<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">failed</span> <span style="color:#a6e22e">to</span> <span style="color:#a6e22e">fetch</span> <span style="color:#a6e22e">data</span> <span style="color:#a6e22e">from</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">server</span><span style="color:#960050;background-color:#1e0010">&#39;</span>)
    <span style="color:#66d9ef">return</span>
  }

  <span style="color:#a6e22e">t</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">unix</span>(<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">text</span>.int())
  println(<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">format</span>())
}</code></pre></div>
<p>This program go to external HTTP server, return UNIX timestamp or print <code>failed ...</code>. Next, we set to <code>t</code> variable normalized date and time by standard V library <code>time</code> and print result. Simple to read, easy to write!</p>

<h3 id="build-in-package-manager">Build-in package manager</h3>

<p>The V Package Manager (<a href="https://vpm.best/" target="_blank">vpm</a>) — it&rsquo;s package management tool similar to NPM by Node.js.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">v install [module]</code></pre></div>
<h3 id="plugins-for-v-syntax-on-popular-code-editors">Plugins for V syntax on popular code editors</h3>

<ol>
<li><a href="https://marketplace.visualstudio.com/items?itemName=0x9ef.vscode-vlang&amp;ssr=false" target="_blank">VS Code</a></li>
<li><a href="https://github.com/ollykel/v-vim" target="_blank">Vim</a></li>
<li><a href="https://github.com/vlang/vid" target="_blank">Vid</a> (1 MB editor written in V)</li>
</ol>

<h2 id="prepare-and-install-v">Prepare and install V</h2>

<p>Okay, time to try V on your computer!</p>

<blockquote>
<p>Because I work only on macOS, I show installation process only for this OS. Windows users, sorry&hellip;</p>
</blockquote>

<p>First, go to console and clone V repository:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">git clone https://github.com/vlang/v</code></pre></div>
<p>Next, go to v folder and run <code>make</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">cd v
make</code></pre></div>
<p>That&rsquo;s all. V was installed to <code>/usr/local/bin/v</code> path.</p>

<h3 id="update-v">Update V</h3>

<p>For update V to latest version, simply type <code>/usr/local/bin/v up</code> on console.</p>

<h2 id="more-about-v-language">More about V language</h2>

<ul>
<li>GitHub repository — <a href="https://github.com/vlang/v" target="_blank">https://github.com/vlang/v</a></li>
<li>Official docs — <a href="https://vlang.io/docs" target="_blank">https://vlang.io/docs</a></li>
</ul>

<h3 id="fresh-news">Fresh news</h3>

<ul>
<li>Twitter — <a href="https://twitter.com/v_language" target="_blank">https://twitter.com/v_language</a></li>
<li>Telegram — <a href="https://t.me/vlang_en" target="_blank">EN</a>, <a href="https://t.me/vlang_ru" target="_blank">RU</a>, <a href="https://t.me/vlang_it" target="_blank">IT</a>, <a href="https://t.me/vlang_zh" target="_blank">ZH</a></li>
</ul>

<h2 id="exercises">Exercises</h2>

<ol>
<li>Find in V official web site comparison to other languages;</li>
<li>Go to official V <a href="https://vlang.io/play" target="_blank">Playground</a> and write some code;</li>
<li>Install V on your computer, go to <code>example</code> folder on GitHub repository and run &ldquo;Game of life&rdquo;;</li>
</ol>
]]></content>
        </item>
        
        <item>
            <title>How to make git clone for my private repository on GitHub?</title>
            <link>https://truewebartisans.com/posts/2019/09/how-to-git-clone-private-repository/</link>
            <pubDate>Mon, 16 Sep 2019 20:10:00 +0300</pubDate>
            
            <guid>https://truewebartisans.com/posts/2019/09/how-to-git-clone-private-repository/</guid>
            <description>Introduction Welcome! The “How to” series continue. Today, we busted huge problem with GitHub: clone private repository to VDS.
Objectives of the article  Show one of the easiest ways to clone your private GitHub repository; Train your console skills;  Prepare setup First, generate SSH key on your VDS:
sudo ssh-keygen  Choose any name, if you want. I use default name id_rsa and dir ~/.ssh.
 Generating public/private rsa key pair.</description>
            <content type="html"><![CDATA[

<h2 id="introduction">Introduction</h2>

<p>Welcome! The “How to” series continue. Today, we busted huge problem with GitHub: clone private repository to VDS.</p>

<h3 id="objectives-of-the-article">Objectives of the article</h3>

<ol>
<li>Show one of the easiest ways to clone your private GitHub repository;</li>
<li>Train your console skills;</li>
</ol>

<h2 id="prepare-setup">Prepare setup</h2>

<p>First, generate SSH key on your VDS:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">sudo ssh-keygen</code></pre></div>
<blockquote>
<p>Choose any name, if you want. I use default name <code>id_rsa</code> and dir <code>~/.ssh</code>.</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">Generating public/private rsa key pair.

Enter file in which to save the key (~/.ssh/id_rsa): &lt;file name&gt;

Enter passphrase (empty for no passphrase): &lt;password&gt;
Enter same passphrase again: &lt;password again&gt;

Your identification has been saved in ~/.ssh/id_rsa.
Your public key has been saved in ~/.ssh/id_rsa.pub.

The key fingerprint is:
SHA256:Hs516tDZPzK0b+/cQhNiyWZUJwnaeDqOShMBBQidhBX user@vds.local

The key&#39;s randomart image is:
+---[RSA 2048]----+
|.o.o  **E=       |
|=*ooo..          |
|  o.+ .          |
|   = .           |
|  o   . S      ..|
|     o..o .......|
|    ..** o....o. |
|      oo   o+o==.|
|     .o.+.   . o=|
+----[SHA256]-----+</code></pre></div>
<p>Next step, create SSH config:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo cat &gt;~/.ssh/config <span style="color:#e6db74">&lt;&lt;EOL
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">Host my_project
</span><span style="color:#e6db74">Hostname github.com
</span><span style="color:#e6db74">User git
</span><span style="color:#e6db74">IdentityFile ~/.ssh/id_rsa
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">EOL</span></code></pre></div>
<p>And now, copy public key to clipboard:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">sudo cat ~/.ssh/rsa_key.pub</code></pre></div>
<p>Go to your GitHub repository settings. Add copied public key to <code>Deploy Keys</code> section.</p>

<p><img src="https://user-images.githubusercontent.com/11155743/65852734-bdf72600-e35f-11e9-900d-d8ca0f58b29e.png" alt="GitHub Deploy Keys section" /></p>

<blockquote>
<p>Don&rsquo;t forget check <code>Allow write access</code>. That&rsquo;s it!</p>
</blockquote>

<h2 id="let-s-clone-it">Let&rsquo;s clone it!</h2>

<p>You may git clone your private repository on VDS:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">sudo git clone my_project:&lt;user&gt;/&lt;repo&gt;.git</code></pre></div>
<h2 id="how-to-update">How to update?</h2>

<p>For update code from your repository, type into project directory:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">git pull</code></pre></div>
<h3 id="questions">Questions</h3>

<ol>
<li>What&rsquo;s console command may generate SSH key?</li>
<li>What does the <code>cat</code> command on console?</li>
<li>What happens, if you run command on console without <code>sudo</code>?</li>
</ol>
]]></content>
        </item>
        
        <item>
            <title>Creating a native macOS app on Golang and React.js with full code protection (without magic)</title>
            <link>https://truewebartisans.com/posts/2019/05/native-macos-app-on-golang-and-react/</link>
            <pubDate>Thu, 30 May 2019 23:10:00 +0300</pubDate>
            
            <guid>https://truewebartisans.com/posts/2019/05/native-macos-app-on-golang-and-react/</guid>
            <description>Introduction Welcome to the next article in the “How to” series! This time, we will analyze the creation of a native desktop application for macOS, write a little code on Golang and React.js, which will have copy protection.
This time, we will try to do without magic!
Objectives of the article  Show one of the easiest ways to create a native desktop application for macOS on Golang; Show the option to protect the code of your application from being modified by third parties (for example, during commercial distribution);  Instruments Work Environment  Go 1.</description>
            <content type="html"><![CDATA[

<h2 id="introduction">Introduction</h2>

<p>Welcome to the next article in the “How to” series! This time, we will analyze the creation of a native desktop application for macOS, write a little code on Golang and React.js, which will have copy protection.</p>

<p>This time, we will try to do without magic!</p>

<h3 id="objectives-of-the-article">Objectives of the article</h3>

<ol>
<li>Show one of the easiest ways to create a native desktop application for macOS on Golang;</li>
<li>Show the option to protect the code of your application from being modified by third parties (for example, during commercial distribution);</li>
</ol>

<h2 id="instruments">Instruments</h2>

<h3 id="work-environment">Work Environment</h3>

<ul>
<li>Go <code>1.12.5</code>;</li>
<li>Node.js <code>12.3.1</code>;</li>
</ul>

<h3 id="operating-system">Operating system</h3>

<ul>
<li>Apple macOS <code>10.14.5</code> Mojave (darwin/amd64);</li>
</ul>

<h3 id="package-and-dependency-manager">Package and Dependency Manager</h3>

<ul>
<li>dep <code>0.5.3</code> (Golang);</li>
<li>npm <code>6.9.0</code> (Node.js);</li>
</ul>

<h2 id="used-golang-packages">Used Golang Packages</h2>

<ul>
<li><code>net/http</code> - standard package for creating a web server (<a href="https://golang.org/pkg/net/http/" target="_blank">godoc</a>);</li>
<li><code>gobuffalo/packr</code> - package for packaging all the necessary sources into one executable binary file (<a href="https://github.com/gobuffalo/packr" target="_blank">GitHub</a>);</li>
<li><code>zserge/webview</code> - cross-platform package for creating a native operating system window with a built-in browser (<a href="https://github.com/zserge/webview" target="_blank">GitHub</a>);</li>
</ul>

<h2 id="used-node-js-libraries">Used Node.js libraries</h2>

<ul>
<li><code>facebook/create-react-app</code> - front-end for macOS-application (<a href="https://github.com/facebook/create-react-app" target="_blank">GitHub</a>);</li>
<li><code>axios/axios</code> - for easier writing of AJAX requests (<a href="https://github.com/axios/axios" target="_blank">GitHub</a>);</li>
</ul>

<h2 id="theoretical-base">Theoretical base</h2>

<p>To better understand what is happening, I suggest you examine the work of some of the packages on which we will rely and use.</p>

<h3 id="net-http">net/http</h3>

<p>A package that provides an implementation of the HTTP client and server. Included in the standard Go delivery and does not require separate installation and configuration.</p>

<p>It is interesting to us, as it is very easy to understand, has good documentation and has the function <code>http.FileServer()</code>.</p>

<p>For more details, see <a href="https://golang.org/pkg/net/http/#pkg-overview" target="_blank">official documentation</a>.</p>

<h4 id="http-fileserver">http.FileServer()</h4>

<p>This function is the key and gives the web server full access to the specified folder and all its files. That is, the <code>http.FileServer()</code> function allows you to mount a folder to any specified address (route) of the web server.</p>

<p>For example, mount the root folder <code>./static/images/photos</code> so that it is available at <code>http://localhost:8000/photos</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Handle</span>(<span style="color:#e6db74">&#34;/photos&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">FileServer</span>(<span style="color:#e6db74">&#34;./static/images/photos&#34;</span>))</code></pre></div>
<h3 id="gobuffalo-packr">gobuffalo/packr</h3>

<p>Package with a talking title. It is he who will allow us to pack all the necessary files into one binary file.</p>

<blockquote>
<p>Please note that the article describes how to work with the <code>v1</code> branch.</p>
</blockquote>

<p>Suppose we have the following project directory structure:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">tree .

├── main.go
└── templates
    ├── admin
    │   └── index.html
    └── index.html</code></pre></div>
<p>The file <code>./main.go</code> contains:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>

	<span style="color:#e6db74">&#34;github.com/gobuffalo/packr&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#75715e">// Folder, with templates that are needed
</span><span style="color:#75715e"></span>	<span style="color:#75715e">// add to binary file (pack)
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">box</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">packr</span>.<span style="color:#a6e22e">NewBox</span>(<span style="color:#e6db74">&#34;./templates&#34;</span>)

	<span style="color:#75715e">// We search file inside the folder
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">box</span>.<span style="color:#a6e22e">FindString</span>(<span style="color:#e6db74">&#34;admin/index.html&#34;</span>)

	<span style="color:#75715e">// If file is not found, then error
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">err</span>)
	}

	<span style="color:#75715e">// Display file content
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">s</span>)
}</code></pre></div>
<p>Now let&rsquo;s compile the project into an executable binary file. At the same time, the <code>packr</code> package will pack the entire contents of the<code>./templates</code> folder into it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">packr build ./main.go</code></pre></div>
<p>If you want to create a binary file for an OS or architecture other than the one you are working with now, then call <code>packr</code> like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell"><span style="color:#75715e"># Example for GNU/Linux, x64 bit</span>
GOOS=linux GOARCH=amd64 packr build ./main.go</code></pre></div>
<h3 id="zserge-webview">zserge/webview</h3>

<p>A tiny cross-platform web-browsing package used to create modern graphical interfaces.</p>

<blockquote>
<p>Please note that the article describes how to work with the version <code>0.1.0</code>.</p>
</blockquote>

<p>The file <code>./main.go</code> contains:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;github.com/zserge/webview&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#75715e">// Open the Google homepage in a window with a size of 1024x768 px,
</span><span style="color:#75715e"></span>	<span style="color:#75715e">// without resizing the window
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">webview</span>.<span style="color:#a6e22e">Open</span>(<span style="color:#e6db74">&#34;Google&#34;</span>, <span style="color:#e6db74">&#34;https://google.com&#34;</span>, <span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">768</span>, <span style="color:#66d9ef">false</span>)
}</code></pre></div>
<p>To create a macOS application, go to the console and execute:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell"><span style="color:#75715e"># Creating directory structure of a macOS app</span>
mkdir -p example.app/Contents/MacOS

<span style="color:#75715e"># Compile ./main.go to app folder</span>
go build -o example.app/Contents/MacOS/example

<span style="color:#75715e"># Run app</span>
open example.app</code></pre></div>
<h2 id="structure-of-macos-application">Structure of macOS application</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">tree .

├── vendor
├── ui
│   ├── build
│   ├── node_modules
│   ├── public
│   ├── src
│   ├── package-lock.json
│   └── package.json
├── helloworld.app
├── Gopkg.lock
├── Gopkg.toml
└── main.go</code></pre></div>
<h3 id="description-of-main-files-and-folders">Description of main files and folders</h3>

<ul>
<li><code>vendor</code> — all packages installed using <code>dep</code> will be stored here;</li>
<li><code>ui</code> — folder with React.js application (frontend);

<ul>
<li><code>build</code> — folder with production-version of React-app after the build;</li>
<li><code>src</code> — folder with the source code of the React-app;</li>
<li><code>package.json</code> — dependency file <code>npm</code>;</li>
</ul></li>
<li><code>helloworld.app</code> — macOS application (specially prepared folder);</li>
<li><code>Gopkg.toml</code> — dependency file <code>dep</code>;</li>
<li><code>main.go</code> — Golang application source code (backend);</li>
</ul>

<h2 id="write-the-code">Write the code</h2>

<p>Enough theory. As he said, without exaggeration, one of the great programmers of our time, Linus Torvalds:</p>

<blockquote>
<p>Talk is cheap. Show me the code.</p>

<p>— Linus Torvalds</p>
</blockquote>

<p>Let&rsquo;s follow this advice and write some code.</p>

<p>I will not analyze each line of code separately, as I consider it redundant and counter-productive. All code listings are provided with detailed comments.</p>

<h3 id="memo-for-beginners-copy-paste-developers">Memo for beginners/copy-paste developers</h3>

<p>Great, when there is a full code listing at the end of the article, right? You can immediately, without reading the text, copy all the program code and see its execution &hellip;</p>

<p>At this point, I would like to appeal to all readers who do not want to spend time on theory:</p>

<blockquote>
<p>Do not mindlessly copy code from the Internet! This will not help you (in understanding the code and subject of the article), nor the author (in explaining/helping in the comments).</p>
</blockquote>

<h3 id="frontend-for-application">Frontend for application</h3>

<p>React.js is a powerful, but at the same time, easy-to-learn JavaScript-library for creating user interfaces, which is perfect for us to implement the frontend part of the application.</p>

<blockquote>
<p>For this article, we <strong>will not</strong> use anything but the standard “It works!” React.js page.</p>
</blockquote>

<p>Like everything in modern frontend, we start with the installation of React.js and all the necessary auxiliary libraries.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell"><span style="color:#75715e"># Create a folder for app and go into it</span>
mkdir ~/helloworld_project &amp;&amp; cd ~/helloworld_project

<span style="color:#75715e"># According to the structure of finished app,</span>
<span style="color:#75715e"># install React.js in ./ui directory</span>
npx create-react-app ui

<span style="color:#75715e"># Go to folder and check that everything works</span>
cd ui &amp;&amp; npm start &amp;&amp; open http<span style="color:#960050;background-color:#1e0010">:</span>//localhost<span style="color:#960050;background-color:#1e0010">:</span>3000

<span style="color:#75715e"># Next, stop dev server (press Ctrl+C)</span>
<span style="color:#75715e"># and install axios library</span>
npm i --save axios</code></pre></div>
<h4 id="code-listing-for-ui-src-app-js-file">Code listing for ./ui/src/App.js file</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#75715e">// Import React and React Hooks
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span>, { <span style="color:#a6e22e">useState</span>, <span style="color:#a6e22e">useEffect</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;react&#34;</span>;

<span style="color:#75715e">// Import axios
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">axios</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;axios&#34;</span>;

<span style="color:#75715e">// Import logo and CSS
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">logo</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./logo.svg&#34;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#34;./App.css&#34;</span>;

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">App</span>() {
  <span style="color:#75715e">// Define storage for data
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">state</span>, <span style="color:#a6e22e">setState</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>([]);

  <span style="color:#75715e">// Retrieving data from an AJAX request.
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// Remember that the function passed to useEffect will run,
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// after render is fixed on the screen.
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// See https://reactjs.org/docs/hooks-reference.html#useeffect
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">useEffect</span>(() =&gt; {
    <span style="color:#a6e22e">axios</span>
      .<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;/hello&#34;</span>) <span style="color:#75715e">// GET request to URL /hello
</span><span style="color:#75715e"></span>      .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">resp</span> =&gt; <span style="color:#a6e22e">setState</span>(<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">data</span>)) <span style="color:#75715e">// save response to state
</span><span style="color:#75715e"></span>      .<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">err</span>)); <span style="color:#75715e">// catch error
</span><span style="color:#75715e"></span>  });

  <span style="color:#66d9ef">return</span> (
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">className</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;App&#34;</span>&gt;
      &lt;<span style="color:#f92672">header</span> <span style="color:#a6e22e">className</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;App-header&#34;</span>&gt;
        &lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">logo</span>} <span style="color:#a6e22e">className</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;App-logo&#34;</span> <span style="color:#a6e22e">alt</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;logo&#34;</span> /&gt;
        &lt;<span style="color:#f92672">p</span>&gt;<span style="color:#a6e22e">Hello</span>, {<span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">text</span>}<span style="color:#f92672">!</span>&lt;/<span style="color:#f92672">p</span>&gt;
        &lt;<span style="color:#f92672">a</span>
          <span style="color:#a6e22e">className</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;App-link&#34;</span>
          <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://reactjs.org&#34;</span>
          <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span>
          <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;noopener noreferrer&#34;</span>
        &gt;
          <span style="color:#a6e22e">Learn</span> <span style="color:#a6e22e">React</span>
        &lt;/<span style="color:#f92672">a</span>&gt;
      &lt;/<span style="color:#f92672">header</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
  );
}

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">App</span>;</code></pre></div>
<p>That&rsquo;s all, the frontend for the application is ready! 👌</p>

<h3 id="application-backend">Application Backend</h3>

<p>Install the necessary packages:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">dep ensure -add github.com/gobuffalo/packr
dep ensure -add github.com/zserge/webview</code></pre></div>
<p>Also, we need the <code>packr</code> utility, which should be available for calling from the console in <code>$GOPATH/bin/packr</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">go get -u github.com/gobuffalo/packr/packr</code></pre></div>
<h4 id="code-listing-for-main-go-file">Code listing for ./main.go file</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;encoding/json&#34;</span>
	<span style="color:#e6db74">&#34;net/http&#34;</span>

	<span style="color:#e6db74">&#34;github.com/gobuffalo/packr&#34;</span>
	<span style="color:#e6db74">&#34;github.com/zserge/webview&#34;</span>
)

<span style="color:#75715e">// Message : struct for message
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Message</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">Text</span> <span style="color:#66d9ef">string</span> <span style="color:#e6db74">`json:&#34;text&#34;`</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#75715e">// Bind folder path for packaging with Packr
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">folder</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">packr</span>.<span style="color:#a6e22e">NewBox</span>(<span style="color:#e6db74">&#34;./ui/build&#34;</span>)

	<span style="color:#75715e">// Handle to ./static/build folder on root path
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Handle</span>(<span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">FileServer</span>(<span style="color:#a6e22e">folder</span>))

	<span style="color:#75715e">// Handle to showMessage func on /hello path
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">HandleFunc</span>(<span style="color:#e6db74">&#34;/hello&#34;</span>, <span style="color:#a6e22e">showMessage</span>)

	<span style="color:#75715e">// Run server at port 8000 as goroutine
</span><span style="color:#75715e"></span>	<span style="color:#75715e">// for non-block working
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">go</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ListenAndServe</span>(<span style="color:#e6db74">&#34;:8000&#34;</span>, <span style="color:#66d9ef">nil</span>)

	<span style="color:#75715e">// Let&#39;s open window app with:
</span><span style="color:#75715e"></span>	<span style="color:#75715e">//  - name: Golang App
</span><span style="color:#75715e"></span>	<span style="color:#75715e">//  - address: http://localhost:8000
</span><span style="color:#75715e"></span>	<span style="color:#75715e">//  - sizes: 800x600 px
</span><span style="color:#75715e"></span>	<span style="color:#75715e">//  - resizable: true
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">webview</span>.<span style="color:#a6e22e">Open</span>(<span style="color:#e6db74">&#34;Golang App&#34;</span>, <span style="color:#e6db74">&#34;http://localhost:8000&#34;</span>, <span style="color:#ae81ff">800</span>, <span style="color:#ae81ff">600</span>, <span style="color:#66d9ef">true</span>)
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">showMessage</span>(<span style="color:#a6e22e">w</span> <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ResponseWriter</span>, <span style="color:#a6e22e">r</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Request</span>) {
	<span style="color:#75715e">// Create Message JSON data
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">message</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Message</span>{<span style="color:#e6db74">&#34;World&#34;</span>}

	<span style="color:#75715e">// Return JSON encoding to output
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">output</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">Marshal</span>(<span style="color:#a6e22e">message</span>)

	<span style="color:#75715e">// Catch error, if it happens
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Error</span>(<span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">Error</span>(), <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
		<span style="color:#66d9ef">return</span>
	}

	<span style="color:#75715e">// Set header Content-Type
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">Header</span>().<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;Content-Type&#34;</span>, <span style="color:#e6db74">&#34;application/json&#34;</span>)

	<span style="color:#75715e">// Write output
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">Write</span>(<span style="color:#a6e22e">output</span>)
}</code></pre></div>
<h2 id="build-the-application">Build the application</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell"><span style="color:#75715e"># Creating the directory structure of macOS app</span>
mkdir -p helloworld.app/Contents/MacOS

<span style="color:#75715e"># Compile ./main.go to app folder</span>
go build -o example.app/Contents/MacOS/helloworld

<span style="color:#75715e"># Run application</span>
open helloworld.app</code></pre></div>
<p><img src="https://user-images.githubusercontent.com/11155743/59463057-bd2c9980-8e2d-11e9-84f1-7ad1aac6f98c.gif" alt="gif result" /></p>

<h2 id="cross-compilation-for-windows-and-gnu-linux">Cross compilation for Windows and GNU/Linux</h2>

<p>The theoretical block and the code given in the article are relevant for developing similar applications for other operating systems. In this case, the code remains unchanged.</p>

<blockquote>
<p>Write the code once — run everywhere!</p>
</blockquote>

<p>This is made possible by the cross-system nature. You can compile the executable file.</p>

<ul>
<li>GNU/Linux — executable binary file;</li>
<li>Microsoft Windows — executable file <code>.exe</code>;</li>
<li>Apple macOS — a binary file located inside the <code>.app</code> structure;</li>
</ul>

<p>We will look at this in the following articles.</p>

<p>Stay tuned, comment and write only good code!</p>

<h2 id="securing-material">Securing material</h2>

<p>You are at the end of the article. Now you know a lot more than 15 minutes ago. Take my congratulations! 🎉</p>

<p>Separate 10-15 minutes and the read text restored in memory and the studied code from articles. Next, try to answer the questions and do the exercises in order to better consolidate the material.</p>

<blockquote>
<p>Yes, you can pry, but only if you could not remember.</p>
</blockquote>

<h3 id="questions">Questions</h3>

<ol>
<li>What is the function of the standard go package <code>net/http</code> used to mount folders to the specified address (route)?</li>
<li>What does the <code>Marshal</code> function do from the standard Go package <code>encoding/json</code>?</li>
<li>What parameters need to be changed in the source code of the Full HD application?</li>
<li>If you want to start a web server without goroutine?</li>
<li>What is the command <code>packr build ./main.go</code>?</li>
</ol>

<h3 id="exercises">Exercises</h3>

<ul>
<li>Rewrite the code of the AJAX request (in the frontend application) without using the <code>axios</code> library. <em>Hint: use the features</em> <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" target="_blank"><em>Fetch API</em></a>.</li>
<li>Add more JSON data to the frontend output in the <code>showMessage</code> function. <em>Example: add a new attribute <code>Emoji</code> to the<code>Message</code> structure and output it (with your favorite smiley) after the <code>Text</code></em> attribute.</li>
<li>Try to improve the appearance of your application, for example, using the Material UI visual component library (<a href="https://github.com/mui-org/material-ui" target="_blank">GitHub</a>).</li>
</ul>
]]></content>
        </item>
        
    </channel>
</rss>
